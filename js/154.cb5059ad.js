"use strict";(self["webpackChunkfinal_project"]=self["webpackChunkfinal_project"]||[]).push([[154],{8154:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var r=s(6768),l=s(5130),d=s(4232);const a={class:"my-5 row justify-content-center"},c={class:"card shadow-sm mb-4"},o={class:"card-body p-0"},n={class:"table table-hover align-middle mb-0"},i={class:"text-center"},u={class:"text-end"},k={class:"table-light"},h={class:"text-end fw-bold text-danger"},L={class:"card shadow-sm mb-4"},b={class:"card-body"},p={class:"table mb-0"},v={key:0,class:"badge bg-warning text-dark"},f={key:1,class:"badge bg-success"},g={class:"text-end"},m={key:0,class:"btn btn-success px-4 py-2"};function y(t,e,s,y,x,w){return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=(0,l.D$)((...t)=>w.payOrder&&w.payOrder(...t),["prevent"]))},[e[11]||(e[11]=(0,r.Lk)("div",{class:"text-center mb-4"},[(0,r.Lk)("h3",{class:"fw-bold text-primary"},[(0,r.Lk)("i",{class:"bi bi-receipt"}),(0,r.eW)(" 訂單明細確認 ")]),(0,r.Lk)("p",{class:"text-muted"},"請再次確認以下資訊後完成付款")],-1)),(0,r.Lk)("div",c,[e[3]||(e[3]=(0,r.Lk)("div",{class:"card-header bg-primary text-white fw-bold"},[(0,r.Lk)("i",{class:"bi bi-cart4"}),(0,r.eW)(" 購買商品清單 ")],-1)),(0,r.Lk)("div",o,[(0,r.Lk)("table",n,[e[2]||(e[2]=(0,r.Lk)("thead",{class:"table-light"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"品名"),(0,r.Lk)("th",{class:"text-center"},"數量"),(0,r.Lk)("th",{class:"text-end"},"單價")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(x.order.products,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,d.v_)(e.product.title),1),(0,r.Lk)("td",i,(0,d.v_)(e.qty)+"/"+(0,d.v_)(e.product.unit),1),(0,r.Lk)("td",u,(0,d.v_)(t.$filters.currency(e.final_total)),1)]))),128))]),(0,r.Lk)("tfoot",k,[(0,r.Lk)("tr",null,[e[1]||(e[1]=(0,r.Lk)("td",{colspan:"2",class:"text-end fw-bold"},"總計",-1)),(0,r.Lk)("td",h,(0,d.v_)(t.$filters.currency(x.order.total)),1)])])])])]),(0,r.Lk)("div",L,[e[9]||(e[9]=(0,r.Lk)("div",{class:"card-header bg-danger text-white fw-bold"},[(0,r.Lk)("i",{class:"bi bi-person-lines-fill"}),(0,r.eW)(" 收件人資訊 ")],-1)),(0,r.Lk)("div",b,[(0,r.Lk)("table",p,[(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[e[4]||(e[4]=(0,r.Lk)("th",{width:"120"},"Email",-1)),(0,r.Lk)("td",null,(0,d.v_)(x.order.user.email),1)]),(0,r.Lk)("tr",null,[e[5]||(e[5]=(0,r.Lk)("th",null,"姓名",-1)),(0,r.Lk)("td",null,(0,d.v_)(x.order.user.name),1)]),(0,r.Lk)("tr",null,[e[6]||(e[6]=(0,r.Lk)("th",null,"電話",-1)),(0,r.Lk)("td",null,(0,d.v_)(x.order.user.tel),1)]),(0,r.Lk)("tr",null,[e[7]||(e[7]=(0,r.Lk)("th",null,"地址",-1)),(0,r.Lk)("td",null,(0,d.v_)(x.order.user.address),1)]),(0,r.Lk)("tr",null,[e[8]||(e[8]=(0,r.Lk)("th",null,"付款狀態",-1)),(0,r.Lk)("td",null,[x.order.is_paid?((0,r.uX)(),(0,r.CE)("span",f,"付款完成")):((0,r.uX)(),(0,r.CE)("span",v,"尚未付款"))])])])])])]),(0,r.Lk)("div",g,[x.order.is_paid?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",m,e[10]||(e[10]=[(0,r.Lk)("i",{class:"bi bi-credit-card"},null,-1),(0,r.eW)(" 確認付款 ")])))])],32)])}var x={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/v2/api/xenosword-api/order/${this.orderId}`;this.$http.get(t).then(t=>{t.data.success&&(this.order=t.data.order,console.log(this.order))})},payOrder(){const t=`https://vue3-course-api.hexschool.io/v2/api/xenosword-api/pay/${this.orderId}`;this.$http.post(t).then(t=>{console.log(t),t.data.success&&(this.showToast("success","已成功付款"),this.getOrder())})}},created(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},w=s(1241);const _=(0,w.A)(x,[["render",y]]);var C=_}}]);
//# sourceMappingURL=154.cb5059ad.js.map