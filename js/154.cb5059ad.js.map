{"version":3,"file":"js/154.cb5059ad.js","mappings":"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","sources":["webpack://final_project/./src/views/UserCheckout.vue","webpack://final_project/./src/views/UserCheckout.vue?0c02"],"sourcesContent":["<template>\r\n  <div class=\"my-5 row justify-content-center\">\r\n    <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\r\n      <!-- 標題 -->\r\n      <div class=\"text-center mb-4\">\r\n        <h3 class=\"fw-bold text-primary\">\r\n          <i class=\"bi bi-receipt\"></i> 訂單明細確認\r\n        </h3>\r\n        <p class=\"text-muted\">請再次確認以下資訊後完成付款</p>\r\n      </div>\r\n\r\n      <!-- 購買清單 -->\r\n      <div class=\"card shadow-sm mb-4\">\r\n        <div class=\"card-header bg-primary text-white fw-bold\">\r\n          <i class=\"bi bi-cart4\"></i> 購買商品清單\r\n        </div>\r\n        <div class=\"card-body p-0\">\r\n          <table class=\"table table-hover align-middle mb-0\">\r\n            <thead class=\"table-light\">\r\n              <tr>\r\n                <th>品名</th>\r\n                <th class=\"text-center\">數量</th>\r\n                <th class=\"text-end\">單價</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n                <td>{{ item.product.title }}</td>\r\n                <td class=\"text-center\">{{ item.qty }}/{{ item.product.unit }}</td>\r\n                <td class=\"text-end\">{{ $filters.currency(item.final_total) }}</td>\r\n              </tr>\r\n            </tbody>\r\n            <tfoot class=\"table-light\">\r\n              <tr>\r\n                <td colspan=\"2\" class=\"text-end fw-bold\">總計</td>\r\n                <td class=\"text-end fw-bold text-danger\">{{ $filters.currency(order.total) }}</td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 收件人資訊 -->\r\n      <div class=\"card shadow-sm mb-4\">\r\n        <div class=\"card-header bg-danger text-white fw-bold\">\r\n          <i class=\"bi bi-person-lines-fill\"></i> 收件人資訊\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <table class=\"table mb-0\">\r\n            <tbody>\r\n              <tr>\r\n                <th width=\"120\">Email</th>\r\n                <td>{{ order.user.email }}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>姓名</th>\r\n                <td>{{ order.user.name }}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>電話</th>\r\n                <td>{{ order.user.tel }}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>地址</th>\r\n                <td>{{ order.user.address }}</td>\r\n              </tr>\r\n              <tr>\r\n                <th>付款狀態</th>\r\n                <td>\r\n                  <span v-if=\"!order.is_paid\" class=\"badge bg-warning text-dark\">尚未付款</span>\r\n                  <span v-else class=\"badge bg-success\">付款完成</span>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 付款按鈕 -->\r\n      <div class=\"text-end\">\r\n        <button v-if=\"!order.is_paid\" class=\"btn btn-success px-4 py-2\">\r\n          <i class=\"bi bi-credit-card\"></i> 確認付款\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      order: {\r\n        user: {}\r\n      },\r\n      orderId: '',\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\r\n\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.order = res.data.order\r\n            console.log(this.order)\r\n          }\r\n        })\r\n    },\r\n    payOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\r\n\r\n      this.$http.post(url)\r\n        .then((res) => {\r\n          console.log(res)\r\n          if (res.data.success) {\r\n            this.showToast('success', '已成功付款')\r\n            this.getOrder()\r\n          }\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.orderId = this.$route.params.orderId\r\n    console.log(this.orderId)\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=60e560fe\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$data","order","products","item","key","id","_toDisplayString","product","title","_hoisted_5","qty","unit","_hoisted_6","_ctx","$filters","currency","final_total","_hoisted_7","colspan","_hoisted_8","total","_hoisted_9","_hoisted_10","_hoisted_11","width","user","email","name","tel","address","is_paid","_hoisted_13","_hoisted_12","_hoisted_14","_hoisted_15","data","orderId","isLoading","methods","getOrder","url","this","$http","get","then","res","success","console","log","post","showToast","created","$route","params","__exports__","render"],"sourceRoot":""}