{"version":3,"file":"js/485.c963ff8e.js","mappings":"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","sources":["webpack://final_project/./src/frontend/views/UserCartlist.vue","webpack://final_project/./src/frontend/views/UserCartlist.vue?0896"],"sourcesContent":["<template>\r\n  <div class=\"main-section\">\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <div class=\"container\">\r\n      <div class=\"row pt-4\">\r\n        <div class=\"col-md-12\">\r\n          <select class=\"form-select mb-3\" aria-label=\"product-category\" v-model=\"selectedCategory\">\r\n            <option value=\"\" disabled>請選擇類別</option>\r\n            <option value=\"\">全部</option>\r\n            <option value=\"主機\">主機</option>\r\n            <option value=\"遊戲\">遊戲</option>\r\n            <option value=\"配件\">配件</option>\r\n          </select>\r\n          <div class=\"row row-cols-1 row-cols-md-3 g-4\">\r\n            <div class=\"col\" v-for=\"item in paginatedProducts\" :key=\"item.id\">\r\n              <div class=\"card h-100 product-card\" @click=\"getProduct(item.id)\">\r\n                <div class=\"card-img-top\" :style=\"{\r\n                  height: '400px',\r\n                  backgroundImage: `url(${item.imageUrl})`,\r\n                  backgroundSize: 'cover',\r\n                  backgroundPosition: 'top'\r\n                }\"></div>\r\n                <div class=\"card-body\">\r\n                  <h5 class=\"card-title\">{{ item.title }}</h5>\r\n                  <p class=\"card-text\">\r\n                    <span v-if=\"!item.price\">{{ item.origin_price }} 元</span>\r\n                    <span v-else>\r\n                      <del class=\"text-muted\">原價 {{ $filters.currency(item.origin_price) }} 元</del><br>\r\n                      <strong class=\"text-danger\">特價 {{ $filters.currency(item.price) }} 元</strong>\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 商品分頁 -->\r\n          <nav class=\"mt-4\">\r\n            <ul class=\"pagination justify-content-center\">\r\n              <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\r\n                <a class=\"page-link\" href=\"#\" @click.prevent=\"currentPage--\">上一頁</a>\r\n              </li>\r\n              <li class=\"page-item\" v-for=\"page in totalPages\" :key=\"page\" :class=\"{ active: currentPage === page }\">\r\n                <a class=\"page-link\" href=\"#\" @click.prevent=\"currentPage = page\">{{ page }}</a>\r\n              </li>\r\n              <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\r\n                <a class=\"page-link\" href=\"#\" @click.prevent=\"currentPage++\">下一頁</a>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useProductStore } from '@/stores/productStore'\r\nimport { useCartStore } from '@/stores/cartStore'\r\nimport { useStatusStore } from '@/stores/statusStore'\r\nimport { mapState, mapActions } from 'pinia'\r\nexport default {\r\n  data () {\r\n    return {\r\n      selectedCategory: '', // 選擇的商品種類\r\n      coupon_code: '',\r\n      currentPage: 1, // 當前頁碼\r\n      perPage: 9 // 每頁顯示幾筆\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(useProductStore, ['products']),\r\n    ...mapState(useCartStore, ['cart']),\r\n    ...mapState(useStatusStore, ['isLoading', 'cartLoadingItem']),\r\n    filteredProducts () { // 商品分類\r\n      if (this.selectedCategory) {\r\n        return this.products.filter(product => product.category === this.selectedCategory)\r\n      }\r\n      return this.products // 如果沒選分類，就顯示全部\r\n    },\r\n    paginatedProducts () { // 規劃出每頁要選染的商品\r\n      const start = (this.currentPage - 1) * this.perPage\r\n      const end = start + this.perPage\r\n      return this.filteredProducts.slice(start, end)\r\n    },\r\n    totalPages () { // 計算總頁數\r\n      return Math.ceil(this.filteredProducts.length / this.perPage)\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(useProductStore, ['getProducts']),\r\n    ...mapActions(useCartStore, ['addCart', 'getCart']),\r\n    getProduct (id) {\r\n      this.$router.push(`/product/${id}`)\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main-section {\r\n  @include background-color\r\n}\r\n.product-card {\r\n  cursor: pointer;\r\n  transition: box-shadow 0.3s, transform 0.2s;\r\n\r\n  &:hover {\r\n    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);\r\n  }\r\n  .card-body {\r\n  position: relative;\r\n  z-index: 1;\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(to top, rgba(0, 0, 0, 0.08), transparent);\r\n    opacity: 0;\r\n    transition: opacity 0.3s ease;\r\n    z-index: -1;\r\n  }\r\n}\r\n&:hover .card-body::before {\r\n  opacity: 1;\r\n}\r\n}\r\n\r\n</style>\r\n","import { render } from \"./UserCartlist.vue?vue&type=template&id=24f1320e&scoped=true\"\nimport script from \"./UserCartlist.vue?vue&type=script&lang=js\"\nexport * from \"./UserCartlist.vue?vue&type=script&lang=js\"\n\nimport \"./UserCartlist.vue?vue&type=style&index=0&id=24f1320e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-24f1320e\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Loading","active","_ctx","isLoading","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","$data","selectedCategory","$event","_hoisted_5","_Fragment","_renderList","$options","paginatedProducts","item","key","id","onClick","getProduct","style","_normalizeStyle","imageUrl","_hoisted_7","_hoisted_8","_toDisplayString","title","_hoisted_9","price","_hoisted_11","_hoisted_12","$filters","currency","origin_price","_hoisted_13","_hoisted_10","_hoisted_14","_hoisted_15","_normalizeClass","disabled","currentPage","href","_cache","_withModifiers","totalPages","page","_hoisted_16","data","coupon_code","perPage","computed","mapState","useProductStore","useCartStore","useStatusStore","filteredProducts","this","products","filter","product","category","start","end","slice","Math","ceil","length","methods","mapActions","$router","push","created","getProducts","getCart","__exports__","render"],"sourceRoot":""}