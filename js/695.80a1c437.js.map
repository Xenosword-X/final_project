{"version":3,"file":"js/695.80a1c437.js","mappings":"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","sources":["webpack://final_project/./src/views/UserCart.vue","webpack://final_project/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col-md-8\">\r\n        <select class=\"form-select mb-3\" aria-label=\"product-category\"\r\n        v-model=\"selectedCategory\">\r\n            <option value=\"\" disabled>請選擇類別</option>\r\n            <option value=\"\">全部</option>\r\n            <option value=\"主機\">主機</option>\r\n            <option value=\"遊戲\">遊戲</option>\r\n            <option value=\"配件\">配件</option>\r\n        </select>\r\n        <div class=\"row row-cols-1 row-cols-md-3 g-4\">\r\n          <div class=\"col\" v-for=\"item in paginatedProducts\" :key=\"item.id\">\r\n            <div class=\"card h-100\">\r\n              <div class=\"card-img-top\"\r\n                :style=\"{\r\n                  height: '400px',\r\n                  backgroundImage: `url(${item.imageUrl})`,\r\n                  backgroundSize: 'cover',\r\n                  backgroundPosition: 'center'\r\n                }\"\r\n              ></div>\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title\">{{ item.title }}</h5>\r\n                <p class=\"card-text\">\r\n                  <span v-if=\"!item.price\">{{ item.origin_price }} 元</span>\r\n                  <span v-else>\r\n                    <del class=\"text-muted\">原價 {{ $filters.currency(item.origin_price) }} 元</del><br>\r\n                    <strong class=\"text-danger\">特價 {{ $filters.currency(item.price) }} 元</strong>\r\n                  </span>\r\n                </p>\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <button class=\"btn btn-sm btn-outline-secondary\" @click=\"getProduct(item.id)\">\r\n                    查看更多\r\n                  </button>\r\n                  <button class=\"btn btn-sm btn-outline-danger\" @click=\"addCart(item.id)\"\r\n                  :disabled=\"this.status.loadingItem === item.id\">\r\n                    <div v-if=\"this.status.loadingItem === item.id\"\r\n                      class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\">\r\n                      <span class=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                    加到購物車\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 商品分頁 -->\r\n        <nav class=\"mt-4\">\r\n          <ul class=\"pagination justify-content-center\">\r\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\r\n              <a class=\"page-link\" href=\"#\" @click.prevent=\"currentPage--\">上一頁</a>\r\n            </li>\r\n            <li\r\n              class=\"page-item\"\r\n              v-for=\"page in totalPages\"\r\n              :key=\"page\"\r\n              :class=\"{ active: currentPage === page }\"\r\n            >\r\n              <a class=\"page-link\" href=\"#\" @click.prevent=\"currentPage = page\">{{ page }}</a>\r\n            </li>\r\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\r\n              <a class=\"page-link\" href=\"#\" @click.prevent=\"currentPage++\">下一頁</a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n      <!-- 購物車列表 -->\r\n      <div class=\"col-md-4\">\r\n        <div class=\"sticky-top\">\r\n          <table class=\"table align-middle\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>品名</th>\r\n                <th style=\"width: 110px\">數量</th>\r\n                <th>單價</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            <template v-if=\"cart.carts\">\r\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                <td>\r\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n                          :disabled=\"status.loadingItem === item.id\"\r\n                          @click=\"delCartItem(item.id)\">\r\n                    <i class=\"bi bi-x\"></i>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  {{ item.product.title }}\r\n                  <div class=\"text-success\" v-if=\"item.coupon\">\r\n                    已套用優惠券\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div class=\"input-group input-group-sm\">\r\n                    <input type=\"number\" class=\"form-control\" min=\"1\" @change=\"updateCart(item)\"\r\n                          v-model.number=\"item.qty\" :disabled=\"item.id === status.loadingItem\">\r\n                    <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"text-end\">\r\n                  <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\r\n                  {{ $filters.currency(item.final_total) }}\r\n                </td>\r\n              </tr>\r\n            </template>\r\n            </tbody>\r\n            <tfoot>\r\n            <tr>\r\n              <td v-if=\"cart.carts && cart.carts.length\" class=\"text-start\">\r\n                <button class=\"btn btn-outline-danger text-nowrap\" type=\"button\"\r\n                @click=\"delAllCart()\">清空購物車</button>\r\n              </td>\r\n              <td :colspan=\"cart.carts && cart.carts.length ? 2 : 3\" class=\"text-end\">總計</td>\r\n              <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n            </tr>\r\n            <tr v-if=\"cart.final_total !== cart.total\">\r\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n              <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\r\n            </tr>\r\n            </tfoot>\r\n          </table>\r\n          <div class=\"input-group mb-3 input-group-sm\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\r\n            <div class=\"input-group-append\">\r\n              <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\r\n                套用優惠碼\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 結帳表單 -->\r\n    <div class=\"my-5 row justify-content-center\">\r\n      <Form class=\"col-md-6\" v-slot=\"{ errors }\"\r\n            @submit=\"createOrder\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">Email</label>\r\n          <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['email'] }\"\r\n                   placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                   v-model=\"form.user.email\"></Field>\r\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n          <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                   placeholder=\"請輸入姓名\" rules=\"required\"\r\n                   v-model=\"form.user.name\"></Field>\r\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n          <Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                   placeholder=\"請輸入電話\" rules=\"required\"\r\n                   v-model=\"form.user.tel\"></Field>\r\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n          <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                   placeholder=\"請輸入地址\" rules=\"required\"\r\n                   v-model=\"form.user.address\"></Field>\r\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"message\" class=\"form-label\">留言</label>\r\n          <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\r\n                    v-model=\"form.message\"></textarea>\r\n        </div>\r\n        <div class=\"text-end\">\r\n          <button class=\"btn btn-danger\">送出訂單</button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      selectedCategory: '', // 選擇的商品種類\r\n      status: {\r\n        loadingItem: '' // 對應品項id\r\n      },\r\n      cart: {},\r\n      coupon_code: '',\r\n      currentPage: 1, // 當前頁碼\r\n      perPage: 9, // 每頁顯示幾筆\r\n      // 表單元件\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    filteredProducts () { // 商品分類\r\n      if (this.selectedCategory) {\r\n        return this.products.filter(product => product.category === this.selectedCategory)\r\n      }\r\n      return this.products // 如果沒選分類，就顯示全部\r\n    },\r\n    paginatedProducts () { // 規劃出每頁要選染的商品\r\n      const start = (this.currentPage - 1) * this.perPage\r\n      const end = start + this.perPage\r\n      return this.filteredProducts.slice(start, end)\r\n    },\r\n    totalPages () { // 計算總頁數\r\n      return Math.ceil(this.filteredProducts.length / this.perPage)\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(api)\r\n        .then(res => {\r\n          this.products = res.data.products\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    addCart (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(api, { data: cart })\r\n        .then(res => {\r\n          this.status.loadingItem = ''\r\n          this.showToast('success', '已加入購物車')\r\n          this.getCart()\r\n          console.log(res)\r\n        })\r\n        .catch(err => {\r\n          this.showToast('error', '商品已無庫存')\r\n          console.log(err)\r\n        })\r\n    },\r\n    updateCart (item) { // 更新購物車商品數量\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(api, { data: cart })\r\n        .then(res => {\r\n          console.log(res)\r\n          this.status.loadingItem = ''\r\n          this.isLoading = false\r\n          this.getCart()\r\n        })\r\n    },\r\n    delCartItem (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.status.loadingItem = id\r\n      this.$http.delete(api, id)\r\n        .then(res => {\r\n          console.log(res)\r\n          this.showToast('success', '商品已刪除')\r\n          this.status.loadingItem = ''\r\n          this.getCart()\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    delAllCart () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`\r\n      this.isLoading = true\r\n      this.$http.delete(api)\r\n        .then(res => {\r\n          console.log(res)\r\n          this.showToast('success', '已清空購物車')\r\n          this.getCart()\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    addCouponCode () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = { code: this.coupon_code }\r\n      this.isLoading = true\r\n      this.$http.post(api, { data: coupon })\r\n        .then(res => {\r\n          console.log(res)\r\n          this.showToast('success', '已成功加入優惠券')\r\n          this.getCart()\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n          this.showToast('error', '該優惠券不存在')\r\n        })\r\n    },\r\n    getCart () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((res) => {\r\n        console.log(res)\r\n        this.cart = res.data.data\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    createOrder () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.isLoading = true\r\n      this.$http.post(api, { data: order })\r\n        .then(res => {\r\n          console.log(res)\r\n          this.showToast('success', '已送出訂單')\r\n          const orderId = res.data.orderId\r\n          this.$router.push(`/user/checkout/${orderId}`)\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=1c323530\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","role","_createVNode","_component_Loading","active","_ctx","isLoading","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","$data","selectedCategory","$event","_hoisted_4","_createElementBlock","_Fragment","_renderList","$options","paginatedProducts","item","key","id","_hoisted_5","style","_normalizeStyle","imageUrl","_hoisted_6","_hoisted_7","_toDisplayString","title","_hoisted_8","price","_hoisted_10","_hoisted_11","$filters","currency","origin_price","_hoisted_12","_hoisted_9","_hoisted_13","onClick","getProduct","_hoisted_14","addCart","disabled","status","loadingItem","_hoisted_16","_cache","_hoisted_17","_hoisted_18","_normalizeClass","currentPage","href","_withModifiers","totalPages","page","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","cart","carts","type","delCartItem","product","coupon","_hoisted_24","_hoisted_25","min","onChange","updateCart","qty","number","_hoisted_27","unit","_hoisted_28","final_total","total","_hoisted_29","length","_hoisted_30","delAllCart","colspan","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","coupon_code","placeholder","_hoisted_36","args","addCouponCode","_hoisted_37","_component_Form","onSubmit","createOrder","errors","_hoisted_38","for","_component_Field","name","rules","form","user","email","_component_ErrorMessage","_hoisted_39","_hoisted_40","tel","_hoisted_41","address","_hoisted_42","cols","rows","message","data","products","perPage","computed","filteredProducts","this","filter","category","start","end","slice","Math","ceil","methods","getProducts","api","$http","get","then","res","$router","push","product_id","post","showToast","getCart","console","log","catch","err","put","delete","code","order","orderId","created","__exports__","render"],"sourceRoot":""}