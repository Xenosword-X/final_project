"use strict";(self["webpackChunkfinal_project"]=self["webpackChunkfinal_project"]||[]).push([[532],{5532:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var s=a(6768),i=a(5130),r=a(4232);const c={class:"main-section"},o={class:"container"},n={class:"row pt-4"},l={class:"col-md-12"},d={class:"row row-cols-1 row-cols-md-3 g-4"},u={class:"card h-100"},g={class:"card-body"},p={class:"card-title"},k={class:"card-text"},v={key:0},b={key:1},L={class:"text-muted"},h={class:"text-danger"},C={class:"d-flex justify-content-between"},f=["onClick"],P=["onClick","disabled"],m={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},y={class:"mt-4"},_={class:"pagination justify-content-center"},w=["onClick"];function x(e,t,a,x,X,E){const $=(0,s.g2)("Loading");return(0,s.uX)(),(0,s.CE)("div",c,[(0,s.bF)($,{active:e.isLoading},null,8,["active"]),(0,s.Lk)("div",o,[(0,s.Lk)("div",n,[(0,s.Lk)("div",l,[(0,s.bo)((0,s.Lk)("select",{class:"form-select mb-3","aria-label":"product-category","onUpdate:modelValue":t[0]||(t[0]=e=>X.selectedCategory=e)},t[3]||(t[3]=[(0,s.Fv)('<option value="" disabled data-v-d5b490fe>請選擇類別</option><option value="" data-v-d5b490fe>全部</option><option value="主機" data-v-d5b490fe>主機</option><option value="遊戲" data-v-d5b490fe>遊戲</option><option value="配件" data-v-d5b490fe>配件</option>',5)]),512),[[i.u1,X.selectedCategory]]),(0,s.Lk)("div",d,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(E.paginatedProducts,a=>((0,s.uX)(),(0,s.CE)("div",{class:"col",key:a.id},[(0,s.Lk)("div",u,[(0,s.Lk)("div",{class:"card-img-top",style:(0,r.Tr)({height:"400px",backgroundImage:`url(${a.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center"})},null,4),(0,s.Lk)("div",g,[(0,s.Lk)("h5",p,(0,r.v_)(a.title),1),(0,s.Lk)("p",k,[a.price?((0,s.uX)(),(0,s.CE)("span",b,[(0,s.Lk)("del",L,"原價 "+(0,r.v_)(e.$filters.currency(a.origin_price))+" 元",1),t[4]||(t[4]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("strong",h,"特價 "+(0,r.v_)(e.$filters.currency(a.price))+" 元",1)])):((0,s.uX)(),(0,s.CE)("span",v,(0,r.v_)(a.origin_price)+" 元",1))]),(0,s.Lk)("div",C,[(0,s.Lk)("button",{class:"btn btn-sm btn-outline-secondary",onClick:e=>E.getProduct(a.id)},t[5]||(t[5]=[(0,s.eW)(" 查看更多 "),(0,s.Lk)("i",{class:"bi bi-three-dots"},null,-1)]),8,f),(0,s.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:t=>e.addCart(a.id),disabled:e.cartLoadingItem===a.id},[e.cartLoadingItem===a.id?((0,s.uX)(),(0,s.CE)("div",m,t[6]||(t[6]=[(0,s.Lk)("span",{class:"visually-hidden"},"Loading...",-1)]))):(0,s.Q3)("",!0),t[7]||(t[7]=(0,s.eW)(" 加到購物車 ")),t[8]||(t[8]=(0,s.Lk)("i",{class:"bi bi-bag-fill"},null,-1))],8,P)])])])]))),128))]),(0,s.Lk)("nav",y,[(0,s.Lk)("ul",_,[(0,s.Lk)("li",{class:(0,r.C4)(["page-item",{disabled:1===X.currentPage}])},[(0,s.Lk)("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=(0,i.D$)(e=>X.currentPage--,["prevent"]))},"上一頁")],2),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(E.totalPages,e=>((0,s.uX)(),(0,s.CE)("li",{class:(0,r.C4)(["page-item",{active:X.currentPage===e}]),key:e},[(0,s.Lk)("a",{class:"page-link",href:"#",onClick:(0,i.D$)(t=>X.currentPage=e,["prevent"])},(0,r.v_)(e),9,w)],2))),128)),(0,s.Lk)("li",{class:(0,r.C4)(["page-item",{disabled:X.currentPage===E.totalPages}])},[(0,s.Lk)("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=(0,i.D$)(e=>X.currentPage++,["prevent"]))},"下一頁")],2)])])])])])])}a(4114),a(8111),a(2489);var X=a(4373),E=a(2261),$=a(4161);const I=(0,E.nY)("productStore",{state:()=>({products:[]}),actions:{getProducts(){const e=(0,$.X)(),t="https://vue3-course-api.hexschool.io/v2/api/xenosword-api/products/all";e.isLoading=!0,X.A.get(t).then(t=>{this.products=t.data.products,e.isLoading=!1})}}});var j=a(3256),F={data(){return{selectedCategory:"",coupon_code:"",currentPage:1,perPage:9}},computed:{...(0,E.aH)(I,["products"]),...(0,E.aH)(j.x,["cart"]),...(0,E.aH)($.X,["isLoading","cartLoadingItem"]),filteredProducts(){return this.selectedCategory?this.products.filter(e=>e.category===this.selectedCategory):this.products},paginatedProducts(){const e=(this.currentPage-1)*this.perPage,t=e+this.perPage;return this.filteredProducts.slice(e,t)},totalPages(){return Math.ceil(this.filteredProducts.length/this.perPage)}},methods:{...(0,E.i0)(I,["getProducts"]),...(0,E.i0)(j.x,["addCart","getCart"]),getProduct(e){this.$router.push(`/product/${e}`)}},created(){this.getProducts(),this.getCart()}},D=a(1241);const H=(0,D.A)(F,[["render",x],["__scopeId","data-v-d5b490fe"]]);var A=H}}]);
//# sourceMappingURL=532.2f56de09.js.map