{"ast":null,"code":"import modalMixin from '../mixins/modalMixin';\nexport default {\n  /* name: 'couponModal', */\n  props: {\n    coupon: {},\n    isNew: Boolean\n  },\n  data() {\n    return {\n      tempCoupon: {},\n      due_date: ''\n    };\n  },\n  /* emits: ['update-coupon'], */\n  watch: {\n    coupon() {\n      this.tempCoupon = this.coupon;\n      // 將時間格式改為 YYYY-MM-DD\n      console.log(this.tempCoupon.due_date);\n      const dateAndTime = new Date(this.tempCoupon.due_date * 1000).toISOString().split('T');\n      [this.due_date] = dateAndTime;\n    },\n    due_date() {\n      this.tempCoupon.due_date = Math.floor(new Date(this.due_date) / 1000);\n    }\n  },\n  mixins: [modalMixin]\n};","map":{"version":3,"names":["modalMixin","props","coupon","isNew","Boolean","data","tempCoupon","due_date","watch","console","log","dateAndTime","Date","toISOString","split","Math","floor","mixins"],"sources":["C:\\Users\\User\\Documents\\GitHub\\final_project\\src\\components\\CouponModal.vue"],"sourcesContent":["<template>\r\n  <div class=\"modal fade\" id=\"couponModal\" tabindex=\"-1\" role=\"dialog\"\r\n       aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>{{ isNew ? '新增優惠券' : '編輯優惠券' }}</span>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\"\r\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"title\">標題</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"title\" v-model=\"tempCoupon.title\"\r\n                   placeholder=\"請輸入標題\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"coupon_code\">優惠碼</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"coupon_code\" v-model=\"tempCoupon.code\"\r\n                   placeholder=\"請輸入優惠碼\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"due_date\">到期日</label>\r\n            <input type=\"date\" class=\"form-control\" id=\"due_date\"\r\n                   v-model=\"due_date\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"price\">折扣百分比</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"price\"\r\n                   v-model.number=\"tempCoupon.percent\" placeholder=\"請輸入折扣百分比\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <div class=\"form-check\">\r\n              <input class=\"form-check-input\" type=\"checkbox\"\r\n                     :true-value=\"1\"\r\n                     :false-value=\"0\"\r\n                     v-model=\"tempCoupon.is_enabled\" id=\"is_enabled\">\r\n              <label class=\"form-check-label\" for=\"is_enabled\">\r\n                是否啟用\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n          <button type=\"button\" class=\"btn btn-primary\"\r\n                  @click=\"$emit('update-coupon', tempCoupon)\">Save changes\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '../mixins/modalMixin'\r\nexport default {\r\n  /* name: 'couponModal', */\r\n  props: {\r\n    coupon: {},\r\n    isNew: Boolean\r\n  },\r\n  data () {\r\n    return {\r\n      tempCoupon: {},\r\n      due_date: ''\r\n    }\r\n  },\r\n  /* emits: ['update-coupon'], */\r\n  watch: {\r\n    coupon () {\r\n      this.tempCoupon = this.coupon\r\n      // 將時間格式改為 YYYY-MM-DD\r\n      console.log(this.tempCoupon.due_date)\r\n      const dateAndTime = new Date(this.tempCoupon.due_date * 1000)\r\n        .toISOString().split('T');\r\n      [this.due_date] = dateAndTime\r\n    },\r\n    due_date () {\r\n      this.tempCoupon.due_date = Math.floor(new Date(this.due_date) / 1000)\r\n    }\r\n  },\r\n  mixins: [modalMixin]\r\n}\r\n</script>\r\n"],"mappings":"AAyDA,OAAOA,UAAS,MAAO,sBAAqB;AAC5C,eAAe;EACb;EACAC,KAAK,EAAE;IACLC,MAAM,EAAE,CAAC,CAAC;IACVC,KAAK,EAAEC;EACT,CAAC;EACDC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,UAAU,EAAE,CAAC,CAAC;MACdC,QAAQ,EAAE;IACZ;EACF,CAAC;EACD;EACAC,KAAK,EAAE;IACLN,MAAKA,CAAA,EAAK;MACR,IAAI,CAACI,UAAS,GAAI,IAAI,CAACJ,MAAK;MAC5B;MACAO,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,UAAU,CAACC,QAAQ;MACpC,MAAMI,WAAU,GAAI,IAAIC,IAAI,CAAC,IAAI,CAACN,UAAU,CAACC,QAAO,GAAI,IAAI,EACzDM,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;MAC3B,CAAC,IAAI,CAACP,QAAQ,IAAII,WAAU;IAC9B,CAAC;IACDJ,QAAOA,CAAA,EAAK;MACV,IAAI,CAACD,UAAU,CAACC,QAAO,GAAIQ,IAAI,CAACC,KAAK,CAAC,IAAIJ,IAAI,CAAC,IAAI,CAACL,QAAQ,IAAI,IAAI;IACtE;EACF,CAAC;EACDU,MAAM,EAAE,CAACjB,UAAU;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}